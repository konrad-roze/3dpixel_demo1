<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Larry Basic</title>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
	<script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script>

    <style>
        html,
        body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #canvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            var canvas = document.getElementById('canvas');
			canvas.width = window.innerWidth;
			canvas.height = 200/200*window.innerWidth;

            var engine = new BABYLON.Engine(canvas, true);
            var createScene = function () {
                var scene = new BABYLON.Scene(engine);
                scene.clearColor = new BABYLON.Color3.Blue();
				scene.ambientColor = new BABYLON.Color3(1, 1, 1);
                //var camera = new BABYLON.FreeCamera('camera1', new BABYLON.
                //Vector3(0, 0, -10), scene);
                //camera.setTarget(BABYLON.Vector3.Zero());
                //var box = BABYLON.Mesh.CreateBox("Box", 4.0, scene);
				
				//scene.createDefaultCamera(true, true, true);
				
				//var camera = new BABYLON.DeviceOrientationCamera("DevOr_camera", new BABYLON.Vector3(0, 32, 0), scene);
				var camera = new BABYLON.TargetCamera("main_camera", new BABYLON.Vector3(0, 32, 0), scene);
				camera.setTarget(new BABYLON.Vector3(0, 0, 0));
				camera.angularSensibility = 10;
				camera.moveSensibility = 10;
				camera.mode = BABYLON.Camera.ORTHOGRAPHIC_CAMERA;
				camera.orthoBottom = -10;
				camera.orthoTop = 10;
				camera.orthoLeft = -16;
				camera.orthoRight = 16;
				camera.attachControl(canvas, true);
				
				BABYLON.SceneLoader.Append("", 
				                           "larry.glb", scene, function (scene) {
					
					// Create a default arc rotate camera and light.
					//scene.createDefaultCameraOrLight(true, true, true);
					m = scene.meshes[2]
					m.material.ambientColor = new BABYLON.Color3(1, 1, 1);

					// The default camera looks at the back of the asset.
					// Rotate the camera by 180 degrees to the front of the asset.
					//scene.activeCamera.alpha += Math.PI;
				});
                return scene;
            }
    
            var scene = createScene();
			if (window.DeviceOrientationEvent) {
				window.addEventListener("deviceorientation", function(evt) {
					console.log(evt);
				});
			} else {
				console.log("Browser doesn't support orientation.")
			}

            engine.runRenderLoop(function () {
                scene.render();
            });
        });
    </script>
</body>
</html>